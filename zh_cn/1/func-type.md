# 高阶类型 (函数类型) (Pre-0.4 版本后加入)
> kula 在 Pre-0.4 版本以后加入了高阶类型，允许通过指定函数原型来约束函数的类型

## 高阶类型表达式
高阶类型是一个 **类型表达式**，他可以将类型作为参数，来描述一个更细分的类型。

在 kula 语言中，高阶类型被用于函数类型校验。

范式：
```
Func < [{参数类型}][,] > : {返回值类型}
```

例如，对于函数
```kula
# 经典斐波那契数列
fib := func(x: Num): Num {
    if (lt(x, 2)) {
        return x;
    }
    else {
        return plus(fib(minus(x, 1)), fib(minus(x, 2)));
    }
};
```
即满足高阶类型
```kula
Func<Num>:Num
```
> 注意：  
> 高阶类型表达式只能用作类型，而不能用作其他表达式。

## 讲个笑话

在加入了 Duck-Typing 特性之后，HanamaruYabuki 敏锐的发现，我们其实很少使用鸭子类型约束对象的属性值，更多的时候，我们会用他们约束函数来实现接口。但是在设计初期，并没有打算实现高阶类型，对函数的约束只有 `Func` 一种形式。于是导致写出的代码经常变成：
```
type XXX {
    a: Func, 
    b: Func, 
    c: Func,
};
```  
这样。全是 `Func`，但几乎没有什么类型级的约束性。鸭子类型便失去了原有的类型校验价值。

于是，坚持优雅的 HanamaruYabuki 便连夜加班赶制出了高阶类型语法。
 
哦对了，连夜赶制的代码肯定全是bug，而且当时他以为自己写完了，其实没有写完。于是在某一个倒霉的 Pre-Release 里就留了这么一个坑。