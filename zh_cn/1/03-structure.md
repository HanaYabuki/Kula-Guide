# 程序结构
> 从结构角度讲，Kula 程序通常使用面向过程的方式构建。    
> 整个程序由多条语句或语法块构成。

## 从 hello_world 看起
```kula
# hello_world
Shell.println("hello_world");
```

我们可以看到：
1. 第一行是一条注释，用 `#` 符号开头，遇到换行符结束
2. 程序中包含一条语句，并使用分号结尾

> 值得注意的是：     
> 1. Kula 语句会按照顺序依次执行
> 2. Kula 是大小写敏感的
> 3. 所有语句必须以分号结尾，尤其是[后文](zh_cn/1/05-func?id=函数的声明？)的 **函数声明**！

下面将会对 Kula 语言的语句格式进行讲解。

> 注意 - 本教程的标准化描述：
> 1. 通常的，符号代表符号本身。例如 `=` 代表一个真的等于号
> 2. 尖括号括起来的，表示某一类符号。例如 `<值>` 表示 *这里应该有一个值*。这个值可能是一个常值，也可能是一个函数的运行结果 (毕竟函数的运行结果也可能是值)。
> 3. 方括号括起来的，表示一组该符号。例如 `[<语句>]` 表示 *这里可以有任意多条语句*。
> 4. 连续两个并列的方括号，第一个表示连续的符号组，第二个表示每两个符号组之间的分隔符。例如 `[<值>][,]` 表示 *这里可以有任意多条值，其中，每两个值之间用一个逗号分隔*。

!> kula语言为了方便学习和使用，添加了内置函数 `unpack(namespace:Map)` 与 `unpackAll()`，他们可以将 `命名空间.函数名` 的写法简化为 `函数名`（即将命名空间"解包"），用以简化使用。在[后文](/zh_cn/1/04-sharp-func?id=语法太长了，能不能简化一下？)有更详细的介绍，读者可以自行使用之。

## 值语句
```
<值> ;
```
例如
```kula
;
100;
a;
Shell.println("hello_world");
```

其中，值是可空的。   
即：
```kula
;
```

在该语句中，如果有值，值会被丢弃。    
```kula
# 值被丢弃
100;        
```
如果值是一个 **带入了参数的** 函数，那么函数会被执行。

> 值语句是最常用的语句，例如开始的 `Shell.println("hello_world");` 就是一个完整的值语句，`Shell`是一个`Map`容器，`.`运算符表示提取其中的某个值，`println`作为一个函数被执行。随后，该函数并不返回任何值，也没有值需要被丢弃。

## 赋值语句
Kula 语言中，赋值语句有两种。

### 寻址赋值
```
<变量名> = <值> ;
```
例如
```
a = 100;
b = "hello";
```

这个语句会按照名称 *声明* 或 *更新* 一个变量。

即：
+ 如果变量名在当前作用域范围内不存在，则声明这个变量，并赋值。
+ 如果变量名在当前作用域范围内存在，则更新这个变量的内容。

> **作用域**是一个新概念。暂时可以理解为：这条语句所在的空间以及更深于它的空间。

自然的，如果值是一个 **带入了参数的** 函数，函数就会被执行。
```kula
calc = plus(a, b);  # calc 的值是 a与b的和
```

### 声明赋值
```
<变量名> := <值> ;
```
例如 
```kula
a := 100;
```

这个语句会在**原地声明或更新**一个变量，**它不会考虑外层作用域是否已经存在这个变量**。

> 声明赋值不会因为当前作用域内存在这个变量而出错，而是会覆盖掉原始数据，即 和寻址赋值的效果相同。    
> 而且由于声明赋值不涉及寻址操作，所以本质上会比寻址赋值更快。

> 赋值语句也十分常用，它允许我们存储一些数据。    
> Kula 语言是强类型动态类型的语言，在后文，我们会详细介绍这个概念。    

## 逻辑控制语句

### if 逻辑
```
if (<值>) { [<语句>] }
```

例如
```kula
if (gt(age, 18)) {
    Shell.println("我成年咯！");
}
```

这个语句用来控制逻辑，被视为一种 *条件分歧*。当 *值* 为 非零时，会执行 **大括号内的语句组**。

> 从这里我们可以看到，语句的定义是 **递归** 的！    
> 事实上，不只是语句，**值的定义也是递归的**

在 **Pre-0.2.1** 以及以后的版本中，Kula支持了 `else` 语法，允许对 *不满足条件的情况* 进行语法上的支持。

例如
```kula
if (gt(age, 18)) {
    Shell.println("我成年咯！");
}
else {
    Shell.println("我没成年！");
}
```

### while 逻辑
```
while (<值>) { [<语句>] }
```

例如
```kula
while (lt(a, 10)) {
    a = plus(a, 1);
}
```

这个语句也被用来控制逻辑，被视为一种 *条件循环*。当 *值* 为 非零时，会执行 **大括号内的语句组**，之后，程序会重新跳转到 `while` 语句的开头，重新重复此过程。

在本例中，如果变量 `a` 的值小于 10，则会被一直累加到 10。