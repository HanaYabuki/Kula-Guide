# 内置函数
> 内置函数 是 Kula 语言在语言层面的一些基本操作。

## 从 hello_world 看起
```kula
# hello_world
println("hello_world");
```

我们看到：
1. 除第一行的注释
2. 程序中包含一条语句，他调用了一次内置函数 `println(x:Any): None`。

下面我们会讲解 Kula 语言中的 **函数**。

## 描述格式
Kula 语言的内置函数皆适用以下的描述格式：
```
<函数名> ( [<参数>:<参数类型>][,] ) : <返回值类型>
```

比如，输出函数的格式是：
```
println(x: Any): None
```
也就是说，我们可以填入任何形式的变量。    
变量输出后，不会有任何后效。

再比如，四则运算函数的格式是：
```
plus(x: Num, y:Num): Num
minus(x: Num, y:Num): Num
times(x: Num, y:Num): Num
div(x: Num, y:Num): Num
```
也就是说，我们可以填入两个 `Num` 类型作为参数，函数运行的结果相当于 **1个** `Num`，也就是 *四则运算* 的结果。

> 更多的内置函数会介绍在 **第二部分的内置函数表** 里，这里不做枚举的介绍。

## 调用
函数的调用遵循以下格式：
```kula
<函数名> ( [参数][,] )
```
函数在调用后，实际结果当作 *函数的返回值* 处理。

例如：
```kula
a = 10;
a = times(a, a);
```
即为将 `a` 乘方。

> 注意：  
> + 函数的参数个数是有限制的。
> + 函数的参数有类型约束，填入不规范的类型可能会造成异常。

## 作用
函数一般有两个作用：
+ 操作值
+ 造成某种影响

举例子，比如 **四则运算** 函数，是将 *值* 处理为 *值*，即为 **操作值**
```kula
a = 114;
b = 514;
sum = plus(a, b);
```

再比如，输出函数`println`，没有处理其参数，而是将填入的内容 *输出到屏幕上*。   
这个操作和 *值* 是无关的，而是所谓的 **造成了某种影响**
```kula
println(114514);
```

> 当然，函数可以同时具有这两个特性。但是内置函数为了保证功能的原子性，一般不会这样~。

!> 看到这里，建议先停下来，通读一遍 **第二部分** 的函数表 (除数据结构部分)。    
熟悉基本的函数会让你对 Kula 的编码思路更熟悉。

## 将函数的运行结果视为值
> 如果你能轻松地理解这个概念，那么学习编程语言对你来说则不是一件难事！

如果一个函数的返回值不是 `None`，即 *有返回值*，那么这个函数的运行结果就可以被视为一个值。

看下面的例子：
```kula
println(times(100, 5));
```
这段程序会输出一个 `500`。    
因为 `println` 接收到的其实是 `times` 函数的运行结果，也就是一个 `Num`。

我们还可以来点儿更复杂的：
```kula
a = 114;
b = 514;
println(concat("sum = ", toStr(plus(a, b))));
```

这段程序会输出 `sum = 628`。    
因为 `println` 接收到的参数是 `concat` (即连接两个字符串) 的结果，而 `concat` 的参数是 `"sum = "` 和 `toStr` 的结果。   
其中，`println` 接收到的是一个 `Str` 类型的值，它是由 `concat` 计算而来。    
`concat` 接受两个参数，分别是 结果字符串的前半段和后半段。前半段是一个常量 `"sum = "`，后半段是被 `toStr` 运算出来的。    
`toStr` 需要接收一个 `Num`，则是由四则运算函数之一的 `plus` 运算而来。

> 几乎，所有的编程语言都支持这种编码方式。

## 利用内置函数，操作数据结构
数据结构是 Kula 中仅有的 可变数据类型。对数据结构的操作要利用对应的内置函数。

```kula
langMap = newMap();
put(langMap, "java", "Bad.");
put(langMap, "c#", "Good!");
put(langMap, "kula", "AWESOME!!!");

if (keyIn(langMap, "kula")) {
    println(concat("kula is ", langMap<"kula">));
}
```

我们在使用函数操作数据结构时，数据结构本身需要作为参数传入。   
更多的内容会在后文数据结构相关内容里详细介绍，这里简单的演示用法。